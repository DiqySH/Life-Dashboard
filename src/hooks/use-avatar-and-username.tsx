import { useUser } from "@/context/user";
import useRealtimeValue from "./useRealtimeValue";

export const useAvatar = () => {
  const { uid } = useUser();
  const avatar = useRealtimeValue(`users/${uid}/profile/avatar`);
  const defaultAvatar =
    "data:image/jpeg;base64,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";
  return { avatar: avatar.isEmpty ? defaultAvatar : (avatar.data as string) };
};

export const useUsername = () => {
  const { uid } = useUser();
  const username = useRealtimeValue(`users/${uid}/profile/username`);
  const defaultUsername = "New User"
  return { username: username.isEmpty ? defaultUsername : username.data as string }
};
